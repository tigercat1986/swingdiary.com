# LeanCloud 分组检查指南

## 问题诊断

即使应用场景切换为"web 后端"，如果日志仍显示 `运行环境：static`，可能是分组类型不正确。

## 检查步骤

### 1. 确认分组类型（最重要）

在 LeanCloud 控制台左侧菜单栏，检查显示的是：

- ✅ **"云引擎"** - 正确
- ❌ **"静态站点"** - 错误，需要切换

### 2. 分组类型 vs 应用场景

这是两个不同的概念：

- **分组类型**：决定运行环境（`nodejs` 或 `static`）
  - "云引擎"分组 → `nodejs` 运行环境
  - "静态站点"分组 → `static` 运行环境

- **应用场景**：只是分组内的配置选项
  - "web 后端"场景（在云引擎分组内）
  - "静态站点"场景（在静态站点分组内）

**关键：** 如果分组类型是"静态站点"，即使场景选择"web 后端"，仍然会使用 `static` 运行环境！

### 3. 如何切换分组类型

如果左侧菜单显示"静态站点"：

1. 查看是否有"迁移到云引擎"或"切换分组"选项
2. 或者联系 LeanCloud 技术支持
3. 或者创建一个新的云引擎分组，然后迁移应用

### 4. 验证方法

部署后查看日志：

**正确的日志：**
```
[system] 运行环境：nodejs
[instance] - Network:      http://0.0.0.0:$LEANCLOUD_APP_PORT
```

**错误的日志：**
```
[system] 运行环境：static
[instance] - Network:      http://0.0.0.0:3000
```

## 如果无法切换分组

如果确实无法从"静态站点"切换到"云引擎"分组，可以：

1. **创建新的云引擎分组**
2. **迁移应用配置**
3. **重新部署**

或者继续使用静态站点分组，但需要确保 `next.config.mjs` 有 `output: 'export'` 配置。

---

**总结：检查左侧菜单，确保显示"云引擎"而不是"静态站点"！**

